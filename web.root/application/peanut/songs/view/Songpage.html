<div id="songpage-load-message"><span class="fa fa-spinner fa-pulse fa-2x" style="color:lightgrey"></span></div>
<div id="songpage-view-container" class="row" style="display: none">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="/">Home</a></li>
      <li class="breadcrumb-item"><a data-bind="attr:{href:songsLink}">Songs</a></li>
      <li class="breadcrumb-item" data-bind="visible:returnLink"><a data-bind="attr:{href:returnLink},text:returnTitle"></a></li>
      <li class="breadcrumb-item active" aria-current="page"><span data-bind="text:contentid"></span></li>
    </ol>
  </nav>

  <div data-bind="event: { mouseover: toggleMoreSongs, mouseout: toggleMoreSongs }">
  <button class="btn btn-secondary song-list-button" id="song-list-button" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight"
          aria-controls="offcanvasRight" data-bind="visible:mousingOverButton">
    <i class="fas fa-music"></i>
  </button>

  <button class="btn btn-secondary-outline song-list-button" id="song-list-button-expanded" type="button" data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasRight"
          aria-controls="offcanvasRight" data-bind="hidden:mousingOverButton">
    More songs ...

  </button>
  </div>

  <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
    <div class="offcanvas-header">
      <h5 id="offcanvasRightLabel">Offcanvas right</h5>
      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <div>
        Some text as placeholder. In real life you can have the elements you have chosen. Like, text, images, lists, etc.
      </div>
      <div class="dropdown mt-3">
        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown">
          Dropdown button
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <li><a class="dropdown-item" href="#">Action</a></li>
          <li><a class="dropdown-item" href="#">Another action</a></li>
          <li><a class="dropdown-item" href="#">Something else here</a></li>
        </ul>
      </div>
    </div>
  </div>

  <div class="col-md-12" data-bind="descendantsComplete: afterDatabind">
    <!-- view model bindings -->
    <!-- for smoke test - define planet in the view model -->
    <div id="songpage-header" class="row">
      <div class="col-md-12">
        <div class="edit-bar" data-bind="visible:canedit">
          <div data-bind="hidden:songform.editMode">
            <a href="#" data-bind="click:edit" ><i class="far fa-edit"></i>&nbsp;Edit</a>
          </div>
          <div data-bind="visible:songform.editMode">
            <a href="#"  class="me-3" data-bind="click:save"><i class="fas fa-check"></i>&nbsp;Save</a>
            <a href="#"  data-bind="click:cancelEdit"><i class="far fa-window-close"></i>&nbsp;Cancel</a>
          </div>
        </div>
        <h1 data-bind="text:songform.title"></h1>
      </div>
    </div>
    <div id="song-page-body" class="row pb-3">
      <div class="col-md-9">
        <content-block params="controller: contentController, id: 'commentary-content', source: songform.commentary, canedit:songform.editMode"></content-block>
        <h4 data-bind="visible:songform.lyrics">Lyrics</h4>
        <lyrics-block params="lyrics:songform.lyrics, canedit:songform.editMode"></lyrics-block>
      </div>
      <div class="col-md-3">
        <div>
        <image-block params="id:'page-image',owner:self,
            imagepath:'/assets/img/songs',imagename:songform.pageimage,
            canedit:songform.editMode"></image-block>
        </div>
        <div data-bind="hidden:videoOn" class="row mt-3">
          <div class="col-md-4">
            <div data-bind="visible:songform.editMode">
              <div>
                <a href="#" data-bind="click:showYoutubeEdit"><i class="far fa-edit content-edit-icon-button"></i></a>
              </div>
              <div>
                <a href="#" data-bind="click:showYoutubeEdit">Edit Video</a>
              </div>
            </div>
            <div data-bind="hidden:songform.editMode">
              <p><a href="#" data-bind="click:showVideo">Play Video</a></p>
            </div>
          </div>
          <div class="col-md-8">
              <a href="#" data-bind="click:showYoutubeEdit,visible:songform.editMode"><img class="img img-fluid" src="/assets/img/tv-700.jpg"/></a>
            <a href="#" data-bind="click:showVideo,hidden:songform.editMode"><img class="img img-fluid" src="/assets/img/tv-700.jpg"/></a>
          </div>
        </div>
      </div>
    </div>

    <div id="youtube-edit" class="modal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header song-model-header">
            <h5 class="modal-title">Set Youtube Link</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form>
              <div class="p-5">
                <div class="mb-3">
                  <label for="youtube-update-id" class="form-label">YouTube Link</label>
                  <input type="text" data-bind="value:youtubeCodeBuffer" class="form-control" id="youtube-update-id" aria-describedby="youtube-update-text">
                  <div id="youtube-update-text" class="form-text">Enter code or full url.</div>
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" data-bind="click:saveYoutubeCode" class="btn btn-primary">Save changes</button>
            <a href="#" data-bs-dismiss="modal">Cancel</a>
          </div>
        </div>
      </div>
    </div>


    <div id='songPlayer1' class="modal" tabindex="-1">
      <div class="modal-dialog  modal-lg">
        <!-- styling in .video-modal -->
        <div class="modal-content video-modal">
          <div class="modal-header song-model-header">
            <h5 class="modal-title" data-bind="text:songform.title"></h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <youtube-frame params="id:'video-frame-1',ytcode:songform.youtubeId"></youtube-frame>
          </div>
          <!-- no modal-footer for videos -->
        </div>
      </div>
    </div>

  </div>
</div>

